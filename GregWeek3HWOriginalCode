canvasX = 942
canvasY = 817

charX = 100
charY = 100

moveSpeed = 5

obstacleSize = 50

obstacleMaxPositiveSpeed = 20
obstacleMaxNegativeSpeed = -20

function setup() {
  createCanvas(canvasX, canvasY);
  obstacleSetup();
}

function draw() {
  background(220);
  character();
  movement();
  interface();
  obstacle();
  collision();
}


function movement() {
  if (keyIsDown (87) === true) {
    charY -= moveSpeed;
  }
  if (keyIsDown (65) === true) {
    charX -= moveSpeed;
  }
  if (keyIsDown (83) === true) {
    charY += moveSpeed;
  }
  if (keyIsDown (68) === true) {
    charX += moveSpeed;
  }
}

function character() {
  circle(charX,charY,25);
}

function interface() {
  fill(255);
  stroke(0);
  strokeWeight(3);
  textSize(20);
  text('Greg Simmerman',770,800);
  textSize(30);
  text('(This game does not have a name yet)',30,50);
}

function obstacleSetup() {
  obstacleX = random(1,canvasX);
  obstacleY = random(1,canvasY);
  obstacleXMoveSpeed = random(obstacleMaxNegativeSpeed,obstacleMaxPositiveSpeed);
  obstacleYMoveSpeed = random(obstacleMaxNegativeSpeed,obstacleMaxPositiveSpeed);
}

function obstacle() {
  rect(obstacleX,obstacleY,obstacleSize, obstacleSize);
  obstacleX += obstacleXMoveSpeed
  obstacleY += obstacleYMoveSpeed
  if (obstacleX >= canvasX - obstacleSize) {
    obstacleXMoveSpeed = random(obstacleMaxNegativeSpeed,obstacleMaxPositiveSpeed);
    obstacleYMoveSpeed = random(obstacleMaxNegativeSpeed,obstacleMaxPositiveSpeed);
    obstacleXMoveSpeed = obstacleXMoveSpeed * -1
  }
  if (obstacleY >= canvasY - obstacleSize) {
    obstacleXMoveSpeed = random(obstacleMaxNegativeSpeed,obstacleMaxPositiveSpeed);
    obstacleYMoveSpeed = random(obstacleMaxNegativeSpeed,obstacleMaxPositiveSpeed);
    obstacleYMoveSpeed = obstacleYMoveSpeed * -1
  }
  if (obstacleX <= 1) {
    obstacleXMoveSpeed = obstacleXMoveSpeed * -1
    obstacleXMoveSpeed = random(obstacleMaxNegativeSpeed,obstacleMaxPositiveSpeed);
    obstacleYMoveSpeed = random(obstacleMaxNegativeSpeed,obstacleMaxPositiveSpeed);
  }
  if (obstacleY <= 1) {
    obstacleYMoveSpeed = obstacleYMoveSpeed * -1
    obstacleXMoveSpeed = random(obstacleMaxNegativeSpeed,obstacleMaxPositiveSpeed);
    obstacleYMoveSpeed = random(obstacleMaxNegativeSpeed,obstacleMaxPositiveSpeed);
  }
}

function collision() {
    if (charX >= obstacleX) {
        if (charX <= obstacleX + obstacleSize) {
            if (charY >= obstacleY) {
                if (charY <= obstacleY + obstacleSize) {
                    remove();
                }
            }
        }
    }
}
